import{u as e,j as t}from"./index-fSqB3AjD.js";import{c as l}from"./index-CUJUhf6U.js";import{m as s}from"./config-mNRQLehO.js";import{u as r,r as a,O as i}from"./react-vendor-CrIkLlfu.js";function o(){const{user:o,navigate:n,sidebarCollapsed:d,isMobile:c,mobileMenuOpen:x,handleLogout:h,toggleSidebar:u,closeMobileMenu:m}=(()=>{const t=r(),{user:l,logout:s}=e(),[i,o]=a.useState(!1),[n,d]=a.useState(!1),[c,x]=a.useState(!1);return a.useEffect(()=>{const e=()=>{d(window.innerWidth<768),window.innerWidth<768&&(o(!0),x(!1))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{user:l,logout:s,sidebarCollapsed:i,setSidebarCollapsed:o,isMobile:n,mobileMenuOpen:c,setMobileMenuOpen:x,handleLogout:()=>{s(),t("/login")},toggleSidebar:()=>{n?x(!c):o(!i)},closeMobileMenu:()=>{n&&x(!1)},navigate:t}})();return t.jsxs("div",{className:"h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[c&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:m}),t.jsx("div",{className:l("fixed left-0 top-0 h-full z-50 transition-all duration-300",{"w-16":!c&&d,"w-48":!c&&!d,"w-48 transform":c,"-translate-x-full":c&&!x,"translate-x-0":c&&x}),children:t.jsxs("div",{className:"h-full bg-gradient-to-b from-slate-800/90 to-slate-900/90 backdrop-blur-xl border-r border-slate-700/50 shadow-2xl",children:[t.jsxs("div",{className:"h-20 flex items-center justify-center border-b border-slate-700/50 px-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:t.jsx("span",{className:"text-white text-xl",children:"👑"})}),(!d||c)&&t.jsxs("div",{className:"ml-3 min-w-0",children:[t.jsx("div",{className:"text-white font-bold text-lg truncate",children:"修仙MIS"}),t.jsx("div",{className:"text-slate-400 text-xs",children:"管理系统"})]})]}),t.jsx("nav",{className:"px-3 py-2 flex-1 overflow-y-auto max-h-[calc(100vh-5rem)]",children:s.map(e=>t.jsx("button",{onClick:()=>{n(e.path),m()},className:"w-full mb-2 group relative overflow-hidden",children:t.jsxs("div",{className:"flex items-center px-3 py-3 text-slate-300 hover:text-white transition-all duration-200 rounded-xl hover:bg-gradient-to-r hover:from-purple-500/20 hover:to-pink-500/20 border border-transparent hover:border-purple-500/30",children:[t.jsx("div",{className:"text-lg flex-shrink-0",children:e.icon}),(!d||c)&&t.jsx("span",{className:"ml-3 font-medium truncate",children:e.label}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/0 to-pink-500/0 group-hover:from-purple-500/10 group-hover:to-pink-500/10 transition-all duration-300"})]})},e.path))})]})}),t.jsxs("div",{className:l("h-full transition-all duration-300 flex flex-col",{"ml-16":!c&&d,"ml-48":!c&&!d,"ml-0":c}),children:[t.jsx("header",{className:l("fixed top-0 right-0 z-40 h-20 bg-gradient-to-r from-slate-800/90 to-slate-900/90 backdrop-blur-xl border-b border-slate-700/50 shadow-lg transition-all duration-300",{"left-16":!c&&d,"left-48":!c&&!d,"left-0":c}),children:t.jsxs("div",{className:"h-full flex items-center justify-between px-4 sm:px-6",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("button",{onClick:u,className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700/50 rounded-lg transition-all duration-200",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),t.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-slate-700/50 text-white rounded-lg hover:bg-slate-600/50 transition-all duration-200 border border-slate-600/50",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"👤"}),t.jsx("span",{className:"hidden sm:block truncate max-w-24",children:(null==o?void 0:o.username)||"管理员"}),t.jsx("span",{className:"hidden sm:block",children:"▼"})]}),t.jsx("div",{className:"absolute z-10 right-0 top-full w-48 bg-slate-800/95 backdrop-blur-xl rounded-lg shadow-xl border border-slate-700/50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:t.jsxs("div",{className:"py-2",children:[t.jsx("button",{onClick:()=>n("/profile"),className:"w-full px-4 py-2 text-left text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors duration-200",children:"👤 个人设置"}),t.jsx("button",{onClick:h,className:"w-full px-4 py-2 text-left text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors duration-200",children:"🚪 退出登录"})]})})]})})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto pt-20",children:t.jsx(i,{})})]})]})}export{o as default};
