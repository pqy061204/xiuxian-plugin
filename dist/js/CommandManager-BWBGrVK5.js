import{a as e,u as t,j as r}from"./index-C6dH91l4.js";import{r as n,b as a}from"./react-vendor-CrIkLlfu.js";import{s as i}from"./index-Dvcvf_wl.js";import{c as o}from"./index-CUJUhf6U.js";import{p as l,R as s,t as c,u as m,D as d}from"./XiuxianUserSelector-BzkY7rk4.js";import{X as g,a as p}from"./XiuxianPageTitle-B82fm0Nk.js";import{I as u,D as f,P as h,u as b,r as x,X as y}from"./XiuxianTableContainer-CXNKApVm.js";import{X as $}from"./XiuxianRefreshButton-CE9v1lfQ.js";import{X as v}from"./XiuxianEmptyState-BuRcUFy5.js";import{C as j,g as S,m as O,r as C,u as k,i as E,c as N,a as w,k as P}from"./reactNode-Cb2BqGKz.js";import{S as z}from"./index-Bp4Q_HJ_.js";import{m as M}from"./extendsObject-C0ylGr8P.js";import{C as I,R as B}from"./row-Dp6sn5R_.js";import{A as H}from"./index-DY2LoNMv.js";import"./ExclamationCircleOutlined-BBIYG0d-.js";import"./index-D-Ps9Wui.js";import"./index-CXi5mn11.js";var T={};Object.defineProperty(T,"__esModule",{value:!0});var X=T.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}const R=(e,t)=>n.createElement(u,L({},e,{ref:t,icon:X})),D=n.forwardRef(R);var W={};Object.defineProperty(W,"__esModule",{value:!0});var G=W.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}const A=(e,t)=>n.createElement(u,_({},e,{ref:t,icon:G})),F=n.forwardRef(A);var V={};Object.defineProperty(V,"__esModule",{value:!0});var U=V.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const K=(e,t)=>n.createElement(u,q({},e,{ref:t,icon:U})),J=n.forwardRef(K),Y=({children:e})=>{const{getPrefixCls:t}=n.useContext(j),r=t("breadcrumb");return n.createElement("li",{className:`${r}-separator`,"aria-hidden":"true"},""===e?e:e||"/")};Y.__ANT_BREADCRUMB_SEPARATOR=!0;function Q(e,t,r,a){if(null==r)return null;const{className:i,onClick:s}=t,c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(t,["className","onClick"]),m=Object.assign(Object.assign({},l(c,{data:!0,aria:!0})),{onClick:s});return void 0!==a?n.createElement("a",Object.assign({},m,{className:o(`${e}-link`,i),href:a}),r):n.createElement("span",Object.assign({},m,{className:o(`${e}-link`,i)}),r)}function Z(e,t){return(r,n,a,i,o)=>{if(t)return t(r,n,a,i);const l=function(e,t){if(void 0===e.title||null===e.title)return null;const r=Object.keys(t).join("|");return"object"==typeof e.title?e.title:String(e.title).replace(new RegExp(`:(${r})`,"g"),(e,r)=>t[r]||e)}(r,n);return Q(e,r,l,o)}}var ee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const te=e=>{const{prefixCls:t,separator:r="/",children:a,menu:i,overlay:o,dropdownProps:l,href:c}=e,m=(e=>{if(i||o){const r=Object.assign({},l);if(i){const e=i||{},{items:t}=e,a=ee(e,["items"]);r.menu=Object.assign(Object.assign({},a),{items:null==t?void 0:t.map((e,t)=>{var{key:r,title:a,label:i,path:o}=e,l=ee(e,["key","title","label","path"]);let s=null!=i?i:a;return o&&(s=n.createElement("a",{href:`${c}${o}`},s)),Object.assign(Object.assign({},l),{key:null!=r?r:t,label:s})})})}else o&&(r.overlay=o);return n.createElement(f,Object.assign({placement:"bottom"},r),n.createElement("span",{className:`${t}-overlay-link`},e,n.createElement(s,null)))}return e})(a);return null!=m?n.createElement(n.Fragment,null,n.createElement("li",null,m),r&&n.createElement(Y,null,r)):null},re=e=>{const{prefixCls:t,children:r,href:a}=e,i=ee(e,["prefixCls","children","href"]),{getPrefixCls:o}=n.useContext(j),l=o("breadcrumb",t);return n.createElement(te,Object.assign({},i,{prefixCls:l}),Q(l,i,r,a))};re.__ANT_BREADCRUMB_ITEM=!0;const ne=S("Breadcrumb",e=>(e=>{const{componentCls:t,iconCls:r,calc:n}=e;return{[t]:Object.assign(Object.assign({},C(e)),{color:e.itemColor,fontSize:e.fontSize,[r]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${k(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:n(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},E(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`\n          > ${r} + span,\n          > ${r} + a\n        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${k(e.paddingXXS)}`,marginInline:n(e.marginXXS).mul(-1).equal(),[`> ${r}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}})(O(e,{})),e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}));var ae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function ie(e){const{breadcrumbName:t,children:r}=e,n=ae(e,["breadcrumbName","children"]),a=Object.assign({title:t},n);return r&&(a.menu={items:r.map(e=>{var{breadcrumbName:t}=e,r=ae(e,["breadcrumbName"]);return Object.assign(Object.assign({},r),{title:t})})}),a}const oe=e=>{const{prefixCls:t,separator:r="/",style:a,className:i,rootClassName:s,routes:m,items:d,children:g,itemRender:p,params:u={}}=e,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:h,direction:b,breadcrumb:x}=n.useContext(j);let y;const $=h("breadcrumb",t),[v,S,O]=ne($),C=function(e,t){return n.useMemo(()=>e||(t?t.map(ie):null),[e,t])}(d,m),k=Z($,p);if(C&&C.length>0){const e=[],t=d||m;y=C.map((a,i)=>{const{path:o,key:s,type:c,menu:m,overlay:d,onClick:g,className:p,separator:f,dropdownProps:h}=a,b=((e,t)=>{if(void 0===t)return t;let r=(t||"").replace(/^\//,"");return Object.keys(e).forEach(t=>{r=r.replace(`:${t}`,e[t])}),r})(u,o);void 0!==b&&e.push(b);const x=null!=s?s:i;if("separator"===c)return n.createElement(Y,{key:x},f);const y={},v=i===C.length-1;m?y.menu=m:d&&(y.overlay=d);let{href:j}=a;return e.length&&void 0!==b&&(j=`#/${e.join("/")}`),n.createElement(te,Object.assign({key:x},y,l(a,{data:!0,aria:!0}),{className:p,dropdownProps:h,href:j,separator:v?"":r,onClick:g,prefixCls:$}),k(a,u,t,e,j))})}else if(g){const e=c(g).length;y=c(g).map((t,n)=>{if(!t)return t;return N(t,{separator:n===e-1?"":r,key:n})})}const E=o($,null==x?void 0:x.className,{[`${$}-rtl`]:"rtl"===b},i,s,S,O),w=Object.assign(Object.assign({},null==x?void 0:x.style),a);return v(n.createElement("nav",Object.assign({className:E,style:w},f),n.createElement("ol",null,y)))};oe.Item=re,oe.Separator=Y;const le=a.createContext({});le.Consumer;var se=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const ce=a.forwardRef((e,t)=>{const{prefixCls:r,children:i,actions:l,extra:s,styles:c,className:m,classNames:d,colStyle:g}=e,p=se(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:u,itemLayout:f}=n.useContext(le),{getPrefixCls:h,list:b}=n.useContext(j),x=e=>{var t,r;return o(null===(r=null===(t=null==b?void 0:b.item)||void 0===t?void 0:t.classNames)||void 0===r?void 0:r[e],null==d?void 0:d[e])},y=e=>{var t,r;return Object.assign(Object.assign({},null===(r=null===(t=null==b?void 0:b.item)||void 0===t?void 0:t.styles)||void 0===r?void 0:r[e]),null==c?void 0:c[e])},$=h("list",r),v=l&&l.length>0&&a.createElement("ul",{className:o(`${$}-item-action`,x("actions")),key:"actions",style:y("actions")},l.map((e,t)=>a.createElement("li",{key:`${$}-item-action-${t}`},e,t!==l.length-1&&a.createElement("em",{className:`${$}-item-action-split`})))),S=u?"div":"li",O=a.createElement(S,Object.assign({},p,u?{}:{ref:t},{className:o(`${$}-item`,{[`${$}-item-no-flex`]:!("vertical"===f?s:!(()=>{let e=!1;return n.Children.forEach(i,t=>{"string"==typeof t&&(e=!0)}),e&&n.Children.count(i)>1})())},m)}),"vertical"===f&&s?[a.createElement("div",{className:`${$}-item-main`,key:"content"},i,v),a.createElement("div",{className:o(`${$}-item-extra`,x("extra")),key:"extra",style:y("extra")},s)]:[i,v,N(s,{key:"extra"})]);return u?a.createElement(I,{ref:t,flex:1,style:g},O):O});ce.Meta=e=>{var{prefixCls:t,className:r,avatar:i,title:l,description:s}=e,c=se(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:m}=n.useContext(j),d=m("list",t),g=o(`${d}-item-meta`,r),p=a.createElement("div",{className:`${d}-item-meta-content`},l&&a.createElement("h4",{className:`${d}-item-meta-title`},l),s&&a.createElement("div",{className:`${d}-item-meta-description`},s));return a.createElement("div",Object.assign({},c,{className:g}),i&&a.createElement("div",{className:`${d}-item-meta-avatar`},i),(l||s)&&p)};const me=e=>{const{listBorderedCls:t,componentCls:r,paddingLG:n,margin:a,itemPaddingSM:i,itemPaddingLG:o,marginLG:l,borderRadiusLG:s}=e;return{[t]:{border:`${k(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${r}-header,${r}-footer,${r}-item`]:{paddingInline:n},[`${r}-pagination`]:{margin:`${k(a)} ${k(l)}`}},[`${t}${r}-sm`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:i}},[`${t}${r}-lg`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:o}}}},de=e=>{const{componentCls:t,screenSM:r,screenMD:n,marginLG:a,marginSM:i,margin:o}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${r}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${k(o)}`}}}}}},ge=e=>{const{componentCls:t,antCls:r,controlHeight:n,minHeight:a,paddingSM:i,marginLG:o,padding:l,itemPadding:s,colorPrimary:c,itemPaddingSM:m,itemPaddingLG:d,paddingXS:g,margin:p,colorText:u,colorTextDescription:f,motionDurationSlow:h,lineWidth:b,headerBg:x,footerBg:y,emptyTextPadding:$,metaMarginBottom:v,avatarMarginRight:j,titleMarginBottom:S,descriptionFontSize:O}=e;return{[t]:Object.assign(Object.assign({},C(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:x},[`${t}-footer`]:{background:y},[`${t}-header, ${t}-footer`]:{paddingBlock:i},[`${t}-pagination`]:{marginBlockStart:o,[`${r}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:u,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:j},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:u},[`${t}-item-meta-title`]:{margin:`0 0 ${k(e.marginXXS)} 0`,color:u,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:u,transition:`all ${h}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:f,fontSize:O,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${k(g)}`,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:b,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${k(l)} 0`,color:f,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:$,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${r}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:p,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:o},[`${t}-item-meta`]:{marginBlockEnd:v,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:S,color:u,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${k(l)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${k(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${k(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${k(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${r}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${k(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},pe=S("List",e=>{const t=O(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[ge(t),me(t),de(t)]},e=>({contentWidth:220,itemPadding:`${k(e.paddingContentVertical)} 0`,itemPaddingSM:`${k(e.paddingContentVerticalSM)} ${k(e.paddingContentHorizontal)}`,itemPaddingLG:`${k(e.paddingContentVerticalLG)} ${k(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));function ue(e,t){const{pagination:r=!1,prefixCls:a,bordered:i=!1,split:l=!0,className:s,rootClassName:c,style:g,children:p,itemLayout:u,loadMore:f,grid:y,dataSource:$=[],size:v,header:S,footer:O,loading:C=!1,rowKey:k,renderItem:E,locale:N}=e,I=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),H=r&&"object"==typeof r?r:{},[T,X]=n.useState(H.defaultCurrent||1),[L,R]=n.useState(H.defaultPageSize||10),{getPrefixCls:D,direction:W,className:G,style:_}=w("list"),{renderEmpty:A}=n.useContext(j),F=e=>(t,n)=>{var a;X(t),R(n),r&&(null===(a=null==r?void 0:r[e])||void 0===a||a.call(r,t,n))},V=F("onChange"),U=F("onShowSizeChange"),q=(e,t)=>{if(!E)return null;let r;return r="function"==typeof k?k(e):k?e[k]:e.key,r||(r=`list-item-${t}`),n.createElement(n.Fragment,{key:r},E(e,t))},K=!!(f||r||O),J=D("list",a),[Y,Q,Z]=pe(J);let ee=C;"boolean"==typeof ee&&(ee={spinning:ee});const te=!!(null==ee?void 0:ee.spinning);let re="";switch(m(v)){case"large":re="lg";break;case"small":re="sm"}const ne=o(J,{[`${J}-vertical`]:"vertical"===u,[`${J}-${re}`]:re,[`${J}-split`]:l,[`${J}-bordered`]:i,[`${J}-loading`]:te,[`${J}-grid`]:!!y,[`${J}-something-after-last-item`]:K,[`${J}-rtl`]:"rtl"===W},G,s,c,Q,Z),ae=M({current:1,total:0,position:"bottom"},{total:$.length,current:T,pageSize:L},r||{}),ie=Math.ceil(ae.total/ae.pageSize);ae.current=Math.min(ae.current,ie);const oe=r&&n.createElement("div",{className:o(`${J}-pagination`)},n.createElement(h,Object.assign({align:"end"},ae,{onChange:V,onShowSizeChange:U})));let se=P($);r&&$.length>(ae.current-1)*ae.pageSize&&(se=P($).splice((ae.current-1)*ae.pageSize,ae.pageSize));const ce=Object.keys(y||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),me=b(ce),de=n.useMemo(()=>{for(let e=0;e<x.length;e+=1){const t=x[e];if(me[t])return t}},[me]),ge=n.useMemo(()=>{if(!y)return;const e=de&&y[de]?y[de]:y.column;return e?{width:100/e+"%",maxWidth:100/e+"%"}:void 0},[JSON.stringify(y),de]);let ue=te&&n.createElement("div",{style:{minHeight:53}});if(se.length>0){const e=se.map(q);ue=y?n.createElement(B,{gutter:y.gutter},n.Children.map(e,e=>n.createElement("div",{key:null==e?void 0:e.key,style:ge},e))):n.createElement("ul",{className:`${J}-items`},e)}else p||te||(ue=n.createElement("div",{className:`${J}-empty-text`},(null==N?void 0:N.emptyText)||(null==A?void 0:A("List"))||n.createElement(d,{componentName:"List"})));const fe=ae.position,he=n.useMemo(()=>({grid:y,itemLayout:u}),[JSON.stringify(y),u]);return Y(n.createElement(le.Provider,{value:he},n.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},_),g),className:ne},I),("top"===fe||"both"===fe)&&oe,S&&n.createElement("div",{className:`${J}-header`},S),n.createElement(z,Object.assign({},ee),ue,p),O&&n.createElement("div",{className:`${J}-footer`},O),f||("bottom"===fe||"both"===fe)&&oe)))}const fe=n.forwardRef(ue);fe.Item=ce;const he=()=>{const{user:r}=t(),[a,o]=n.useState([]),[l,s]=n.useState(!1),[c,m]=n.useState([]),d=n.useCallback(async(t=[])=>{if(r&&!l){s(!0);try{const r=localStorage.getItem("token");if(!r)return void i.error("未找到登录令牌");const n=await(async(t,r)=>{try{const t=await e({url:"/commands",method:"POST",data:{menus:r}});return 200===t.code?{success:!0,data:t.data}:{success:!1,message:t.message||"获取指令列表失败"}}catch(n){return{success:!1,message:"获取指令列表失败"}}})(0,t);if(n.success&&n.data){const e=n.data.map(e=>({name:e.name,isDir:e.isDir,isFile:e.isFile,path:[...t,e.name],status:e.status}));o(e),m(t)}else i.error(n.message||"获取指令列表失败")}catch(n){i.error("获取指令列表失败")}finally{s(!1)}}},[r,l]),g=n.useCallback(e=>{d(e)},[d]),p=n.useCallback(()=>{if(c.length>0){const e=c.slice(0,-1);d(e)}},[c,d]),u=n.useCallback(e=>{d(e)},[d]),f=n.useCallback(async(t,n)=>{if(r)try{const r=localStorage.getItem("token");if(!r)return void i.error("未找到登录令牌");const a=await(async(t,r,n)=>{try{const t=await e({url:"/commands",method:"PUT",data:{menus:r,switch:n}});return 200===t.code?{success:!0}:{success:!1,message:t.message||"更新指令状态失败"}}catch(a){return{success:!1,message:"更新指令状态失败"}}})(0,t,n);a.success?(i.success(`指令 ${n?"启用":"禁用"} 成功`),h(t,n)):i.error(a.message||"更新指令状态失败")}catch(a){i.error("更新指令状态失败")}},[r]),h=n.useCallback((e,t)=>{o(r=>r.map(r=>r.path.join("/")===e.join("/")?{...r,status:t}:r))},[]),b=n.useCallback(()=>{l||d(c)},[c,l,d]);return n.useEffect(()=>{r&&d()},[r]),{currentItems:a,loading:l,currentPath:c,handleEnterDirectory:g,handleBackToParent:p,handleNavigateToPath:u,handleToggleStatus:f,handleRefresh:b}};function be(){const{currentItems:e,loading:t,currentPath:n,handleEnterDirectory:a,handleBackToParent:i,handleNavigateToPath:o,handleToggleStatus:l,handleRefresh:s}=he();return r.jsxs(g,{children:[r.jsx(p,{icon:r.jsx(J,{}),title:"指令开关",subtitle:"管理和控制修仙插件的各种响应体功能",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"px-2 py-1 rounded-md bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",onClick:i,disabled:0===n.length,children:[r.jsx(D,{}),"返回上级"]}),r.jsx($,{loading:t,onClick:s})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6 shadow-lg mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(J,{className:"text-purple-400"}),"路径导航"]}),r.jsx(oe,{items:[{title:r.jsx("span",{className:"text-slate-200 font-medium cursor-pointer hover:text-white",onClick:()=>o([]),children:"根目录"})},...n.map((e,t)=>({title:r.jsx("span",{className:"text-slate-300 cursor-pointer hover:text-white",onClick:()=>o(n.slice(0,t+1)),children:e})}))],className:"text-slate-300"})]}),r.jsx(y,{title:"当前目录"+(n.length>0?` (${n.join("/")})`:""),icon:r.jsx(J,{}),children:t?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(z,{size:"large"})}):e.length>0?r.jsx(fe,{dataSource:e,renderItem:e=>r.jsx(fe.Item,{className:"border-b border-slate-700/30 last:border-b-0 hover:bg-slate-700/20 rounded-lg p-4 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(H,{icon:e.isDir?r.jsx(J,{}):r.jsx(F,{}),className:""+(e.isDir?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-green-500/20 text-green-400 border border-green-500/30")}),r.jsx("span",{className:"text-slate-200 font-medium "+(e.isDir?"cursor-pointer hover:text-blue-400":""),onClick:()=>{e.isDir&&a(e.path)},children:e.name})]}),e.isFile&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm font-medium "+(!0===e.status?"text-emerald-400":!1===e.status?"text-red-400":"text-slate-400"),children:!0===e.status?"已在启用":!1===e.status?"已被禁用":"未知状态"}),r.jsx("button",{onClick:()=>l(e.path,!e.status),className:"px-3 py-1 text-xs rounded-md font-medium transition-colors "+(!0===e.status?"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/30"),children:!0===e.status?"禁用":"启用"})]})]})})}):r.jsx(v,{title:"当前目录为空",description:"该目录下没有任何文件或文件夹"})})]})}export{be as default};
