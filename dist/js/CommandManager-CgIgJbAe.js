import{a as e,u as t,j as r}from"./index-CaIUaMHN.js";import{r as n,b as a}from"./react-vendor-DC8kK7ng.js";import{s as i}from"./index-CR5B_lQn.js";import{c as o}from"./index-DXDPliM2.js";import{p as l,R as s,t as c,u as m,D as d}from"./XiuxianUserSelector-U8MKeUYJ.js";import{X as p,a as g}from"./XiuxianPageTitle-DApmJtYj.js";import{I as u,F as f,a as h,D as b,P as x,u as y,r as $,X as v}from"./XiuxianTableContainer-DjCNCPX_.js";import{X as j}from"./XiuxianRefreshButton-BFayK0T7.js";import{X as S}from"./XiuxianEmptyState-BA0Z84JW.js";import{C as O,g as C,m as k,r as E,u as N,i as w,c as P,a as I,k as z}from"./reactNode-BF-_wDHO.js";import{S as B}from"./index-CLaou9-T.js";import{m as M}from"./extendsObject-D3a9hKDQ.js";import{C as T,R as X}from"./row-DPnvrY87.js";import{A as H}from"./index-DI5d4zcb.js";import"./ExclamationCircleOutlined-Cp2CfU08.js";import"./index-DxeUR_qs.js";import"./index-Do_NZHyc.js";var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}const D=(e,t)=>n.createElement(u,L({},e,{ref:t,icon:R})),W=n.forwardRef(D);function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}const A=(e,t)=>n.createElement(u,G({},e,{ref:t,icon:f})),F=n.forwardRef(A);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}const U=(e,t)=>n.createElement(u,_({},e,{ref:t,icon:h})),q=n.forwardRef(U),V=({children:e})=>{const{getPrefixCls:t}=n.useContext(O),r=t("breadcrumb");return n.createElement("li",{className:`${r}-separator`,"aria-hidden":"true"},""===e?e:e||"/")};V.__ANT_BREADCRUMB_SEPARATOR=!0;function J(e,t,r,a){if(null==r)return null;const{className:i,onClick:s}=t,c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(t,["className","onClick"]),m=Object.assign(Object.assign({},l(c,{data:!0,aria:!0})),{onClick:s});return void 0!==a?n.createElement("a",Object.assign({},m,{className:o(`${e}-link`,i),href:a}),r):n.createElement("span",Object.assign({},m,{className:o(`${e}-link`,i)}),r)}function K(e,t){return(r,n,a,i,o)=>{if(t)return t(r,n,a,i);const l=function(e,t){if(void 0===e.title||null===e.title)return null;const r=Object.keys(t).join("|");return"object"==typeof e.title?e.title:String(e.title).replace(new RegExp(`:(${r})`,"g"),(e,r)=>t[r]||e)}(r,n);return J(e,r,l,o)}}var Q=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const Y=e=>{const{prefixCls:t,separator:r="/",children:a,menu:i,overlay:o,dropdownProps:l,href:c}=e,m=(e=>{if(i||o){const r=Object.assign({},l);if(i){const e=i||{},{items:t}=e,a=Q(e,["items"]);r.menu=Object.assign(Object.assign({},a),{items:null==t?void 0:t.map((e,t)=>{var{key:r,title:a,label:i,path:o}=e,l=Q(e,["key","title","label","path"]);let s=null!=i?i:a;return o&&(s=n.createElement("a",{href:`${c}${o}`},s)),Object.assign(Object.assign({},l),{key:null!=r?r:t,label:s})})})}else o&&(r.overlay=o);return n.createElement(b,Object.assign({placement:"bottom"},r),n.createElement("span",{className:`${t}-overlay-link`},e,n.createElement(s,null)))}return e})(a);return null!=m?n.createElement(n.Fragment,null,n.createElement("li",null,m),r&&n.createElement(V,null,r)):null},Z=e=>{const{prefixCls:t,children:r,href:a}=e,i=Q(e,["prefixCls","children","href"]),{getPrefixCls:o}=n.useContext(O),l=o("breadcrumb",t);return n.createElement(Y,Object.assign({},i,{prefixCls:l}),J(l,i,r,a))};Z.__ANT_BREADCRUMB_ITEM=!0;const ee=C("Breadcrumb",e=>(e=>{const{componentCls:t,iconCls:r,calc:n}=e;return{[t]:Object.assign(Object.assign({},E(e)),{color:e.itemColor,fontSize:e.fontSize,[r]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${N(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:n(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},w(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`\n          > ${r} + span,\n          > ${r} + a\n        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${N(e.paddingXXS)}`,marginInline:n(e.marginXXS).mul(-1).equal(),[`> ${r}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}})(k(e,{})),e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}));var te=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function re(e){const{breadcrumbName:t,children:r}=e,n=te(e,["breadcrumbName","children"]),a=Object.assign({title:t},n);return r&&(a.menu={items:r.map(e=>{var{breadcrumbName:t}=e,r=te(e,["breadcrumbName"]);return Object.assign(Object.assign({},r),{title:t})})}),a}const ne=e=>{const{prefixCls:t,separator:r="/",style:a,className:i,rootClassName:s,routes:m,items:d,children:p,itemRender:g,params:u={}}=e,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:h,direction:b,breadcrumb:x}=n.useContext(O);let y;const $=h("breadcrumb",t),[v,j,S]=ee($),C=function(e,t){return n.useMemo(()=>e||(t?t.map(re):null),[e,t])}(d,m),k=K($,g);if(C&&C.length>0){const e=[],t=d||m;y=C.map((a,i)=>{const{path:o,key:s,type:c,menu:m,overlay:d,onClick:p,className:g,separator:f,dropdownProps:h}=a,b=((e,t)=>{if(void 0===t)return t;let r=(t||"").replace(/^\//,"");return Object.keys(e).forEach(t=>{r=r.replace(`:${t}`,e[t])}),r})(u,o);void 0!==b&&e.push(b);const x=null!=s?s:i;if("separator"===c)return n.createElement(V,{key:x},f);const y={},v=i===C.length-1;m?y.menu=m:d&&(y.overlay=d);let{href:j}=a;return e.length&&void 0!==b&&(j=`#/${e.join("/")}`),n.createElement(Y,Object.assign({key:x},y,l(a,{data:!0,aria:!0}),{className:g,dropdownProps:h,href:j,separator:v?"":r,onClick:p,prefixCls:$}),k(a,u,t,e,j))})}else if(p){const e=c(p).length;y=c(p).map((t,n)=>{if(!t)return t;return P(t,{separator:n===e-1?"":r,key:n})})}const E=o($,null==x?void 0:x.className,{[`${$}-rtl`]:"rtl"===b},i,s,j,S),N=Object.assign(Object.assign({},null==x?void 0:x.style),a);return v(n.createElement("nav",Object.assign({className:E,style:N},f),n.createElement("ol",null,y)))};ne.Item=Z,ne.Separator=V;const ae=a.createContext({});ae.Consumer;var ie=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const oe=a.forwardRef((e,t)=>{const{prefixCls:r,children:i,actions:l,extra:s,styles:c,className:m,classNames:d,colStyle:p}=e,g=ie(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:u,itemLayout:f}=n.useContext(ae),{getPrefixCls:h,list:b}=n.useContext(O),x=e=>{var t,r;return o(null===(r=null===(t=null==b?void 0:b.item)||void 0===t?void 0:t.classNames)||void 0===r?void 0:r[e],null==d?void 0:d[e])},y=e=>{var t,r;return Object.assign(Object.assign({},null===(r=null===(t=null==b?void 0:b.item)||void 0===t?void 0:t.styles)||void 0===r?void 0:r[e]),null==c?void 0:c[e])},$=h("list",r),v=l&&l.length>0&&a.createElement("ul",{className:o(`${$}-item-action`,x("actions")),key:"actions",style:y("actions")},l.map((e,t)=>a.createElement("li",{key:`${$}-item-action-${t}`},e,t!==l.length-1&&a.createElement("em",{className:`${$}-item-action-split`})))),j=u?"div":"li",S=a.createElement(j,Object.assign({},g,u?{}:{ref:t},{className:o(`${$}-item`,{[`${$}-item-no-flex`]:!("vertical"===f?s:!(()=>{let e=!1;return n.Children.forEach(i,t=>{"string"==typeof t&&(e=!0)}),e&&n.Children.count(i)>1})())},m)}),"vertical"===f&&s?[a.createElement("div",{className:`${$}-item-main`,key:"content"},i,v),a.createElement("div",{className:o(`${$}-item-extra`,x("extra")),key:"extra",style:y("extra")},s)]:[i,v,P(s,{key:"extra"})]);return u?a.createElement(T,{ref:t,flex:1,style:p},S):S});oe.Meta=e=>{var{prefixCls:t,className:r,avatar:i,title:l,description:s}=e,c=ie(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:m}=n.useContext(O),d=m("list",t),p=o(`${d}-item-meta`,r),g=a.createElement("div",{className:`${d}-item-meta-content`},l&&a.createElement("h4",{className:`${d}-item-meta-title`},l),s&&a.createElement("div",{className:`${d}-item-meta-description`},s));return a.createElement("div",Object.assign({},c,{className:p}),i&&a.createElement("div",{className:`${d}-item-meta-avatar`},i),(l||s)&&g)};const le=e=>{const{listBorderedCls:t,componentCls:r,paddingLG:n,margin:a,itemPaddingSM:i,itemPaddingLG:o,marginLG:l,borderRadiusLG:s}=e;return{[t]:{border:`${N(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${r}-header,${r}-footer,${r}-item`]:{paddingInline:n},[`${r}-pagination`]:{margin:`${N(a)} ${N(l)}`}},[`${t}${r}-sm`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:i}},[`${t}${r}-lg`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:o}}}},se=e=>{const{componentCls:t,screenSM:r,screenMD:n,marginLG:a,marginSM:i,margin:o}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${r}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${N(o)}`}}}}}},ce=e=>{const{componentCls:t,antCls:r,controlHeight:n,minHeight:a,paddingSM:i,marginLG:o,padding:l,itemPadding:s,colorPrimary:c,itemPaddingSM:m,itemPaddingLG:d,paddingXS:p,margin:g,colorText:u,colorTextDescription:f,motionDurationSlow:h,lineWidth:b,headerBg:x,footerBg:y,emptyTextPadding:$,metaMarginBottom:v,avatarMarginRight:j,titleMarginBottom:S,descriptionFontSize:O}=e;return{[t]:Object.assign(Object.assign({},E(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:x},[`${t}-footer`]:{background:y},[`${t}-header, ${t}-footer`]:{paddingBlock:i},[`${t}-pagination`]:{marginBlockStart:o,[`${r}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:u,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:j},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:u},[`${t}-item-meta-title`]:{margin:`0 0 ${N(e.marginXXS)} 0`,color:u,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:u,transition:`all ${h}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:f,fontSize:O,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${N(p)}`,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:b,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${N(l)} 0`,color:f,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:$,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${r}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:g,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:o},[`${t}-item-meta`]:{marginBlockEnd:v,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:S,color:u,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${N(l)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${r}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},me=C("List",e=>{const t=k(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[ce(t),le(t),se(t)]},e=>({contentWidth:220,itemPadding:`${N(e.paddingContentVertical)} 0`,itemPaddingSM:`${N(e.paddingContentVerticalSM)} ${N(e.paddingContentHorizontal)}`,itemPaddingLG:`${N(e.paddingContentVerticalLG)} ${N(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));function de(e,t){const{pagination:r=!1,prefixCls:a,bordered:i=!1,split:l=!0,className:s,rootClassName:c,style:p,children:g,itemLayout:u,loadMore:f,grid:h,dataSource:b=[],size:v,header:j,footer:S,loading:C=!1,rowKey:k,renderItem:E,locale:N}=e,w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),P=r&&"object"==typeof r?r:{},[T,H]=n.useState(P.defaultCurrent||1),[R,L]=n.useState(P.defaultPageSize||10),{getPrefixCls:D,direction:W,className:G,style:A}=I("list"),{renderEmpty:F}=n.useContext(O),_=e=>(t,n)=>{var a;H(t),L(n),r&&(null===(a=null==r?void 0:r[e])||void 0===a||a.call(r,t,n))},U=_("onChange"),q=_("onShowSizeChange"),V=(e,t)=>{if(!E)return null;let r;return r="function"==typeof k?k(e):k?e[k]:e.key,r||(r=`list-item-${t}`),n.createElement(n.Fragment,{key:r},E(e,t))},J=!!(f||r||S),K=D("list",a),[Q,Y,Z]=me(K);let ee=C;"boolean"==typeof ee&&(ee={spinning:ee});const te=!!(null==ee?void 0:ee.spinning);let re="";switch(m(v)){case"large":re="lg";break;case"small":re="sm"}const ne=o(K,{[`${K}-vertical`]:"vertical"===u,[`${K}-${re}`]:re,[`${K}-split`]:l,[`${K}-bordered`]:i,[`${K}-loading`]:te,[`${K}-grid`]:!!h,[`${K}-something-after-last-item`]:J,[`${K}-rtl`]:"rtl"===W},G,s,c,Y,Z),ie=M({current:1,total:0,position:"bottom"},{total:b.length,current:T,pageSize:R},r||{}),oe=Math.ceil(ie.total/ie.pageSize);ie.current=Math.min(ie.current,oe);const le=r&&n.createElement("div",{className:o(`${K}-pagination`)},n.createElement(x,Object.assign({align:"end"},ie,{onChange:U,onShowSizeChange:q})));let se=z(b);r&&b.length>(ie.current-1)*ie.pageSize&&(se=z(b).splice((ie.current-1)*ie.pageSize,ie.pageSize));const ce=Object.keys(h||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),de=y(ce),pe=n.useMemo(()=>{for(let e=0;e<$.length;e+=1){const t=$[e];if(de[t])return t}},[de]),ge=n.useMemo(()=>{if(!h)return;const e=pe&&h[pe]?h[pe]:h.column;return e?{width:100/e+"%",maxWidth:100/e+"%"}:void 0},[JSON.stringify(h),pe]);let ue=te&&n.createElement("div",{style:{minHeight:53}});if(se.length>0){const e=se.map(V);ue=h?n.createElement(X,{gutter:h.gutter},n.Children.map(e,e=>n.createElement("div",{key:null==e?void 0:e.key,style:ge},e))):n.createElement("ul",{className:`${K}-items`},e)}else g||te||(ue=n.createElement("div",{className:`${K}-empty-text`},(null==N?void 0:N.emptyText)||(null==F?void 0:F("List"))||n.createElement(d,{componentName:"List"})));const fe=ie.position,he=n.useMemo(()=>({grid:h,itemLayout:u}),[JSON.stringify(h),u]);return Q(n.createElement(ae.Provider,{value:he},n.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},A),p),className:ne},w),("top"===fe||"both"===fe)&&le,j&&n.createElement("div",{className:`${K}-header`},j),n.createElement(B,Object.assign({},ee),ue,g),S&&n.createElement("div",{className:`${K}-footer`},S),f||("bottom"===fe||"both"===fe)&&le)))}const pe=n.forwardRef(de);pe.Item=oe;const ge=()=>{const{user:r}=t(),[a,o]=n.useState([]),[l,s]=n.useState(!1),[c,m]=n.useState([]),d=n.useCallback(async(t=[])=>{if(r&&!l){s(!0);try{const r=localStorage.getItem("token");if(!r)return void i.error("未找到登录令牌");const n=await(async(t,r)=>{try{const t=await e({url:"/commands",method:"POST",data:{menus:r}});return 200===t.code?{success:!0,data:t.data}:{success:!1,message:t.message||"获取指令列表失败"}}catch(n){return{success:!1,message:"获取指令列表失败"}}})(0,t);if(n.success&&n.data){const e=n.data.map(e=>({name:e.name,isDir:e.isDir,isFile:e.isFile,path:[...t,e.name],status:e.status}));o(e),m(t)}else i.error(n.message||"获取指令列表失败")}catch(n){i.error("获取指令列表失败")}finally{s(!1)}}},[r,l]),p=n.useCallback(e=>{d(e)},[d]),g=n.useCallback(()=>{if(c.length>0){const e=c.slice(0,-1);d(e)}},[c,d]),u=n.useCallback(e=>{d(e)},[d]),f=n.useCallback(async(t,n)=>{if(r)try{const r=localStorage.getItem("token");if(!r)return void i.error("未找到登录令牌");const a=await(async(t,r,n)=>{try{const t=await e({url:"/commands",method:"PUT",data:{menus:r,switch:n}});return 200===t.code?{success:!0}:{success:!1,message:t.message||"更新指令状态失败"}}catch(a){return{success:!1,message:"更新指令状态失败"}}})(0,t,n);a.success?(i.success(`指令 ${n?"启用":"禁用"} 成功`),h(t,n)):i.error(a.message||"更新指令状态失败")}catch(a){i.error("更新指令状态失败")}},[r]),h=n.useCallback((e,t)=>{o(r=>r.map(r=>r.path.join("/")===e.join("/")?{...r,status:t}:r))},[]),b=n.useCallback(()=>{l||d(c)},[c,l,d]);return n.useEffect(()=>{r&&d()},[r]),{currentItems:a,loading:l,currentPath:c,handleEnterDirectory:p,handleBackToParent:g,handleNavigateToPath:u,handleToggleStatus:f,handleRefresh:b}};function ue(){const{currentItems:e,loading:t,currentPath:n,handleEnterDirectory:a,handleBackToParent:i,handleNavigateToPath:o,handleToggleStatus:l,handleRefresh:s}=ge();return r.jsxs(p,{children:[r.jsx(g,{icon:r.jsx(q,{}),title:"指令开关",subtitle:"管理和控制修仙插件的各种响应体功能",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"px-2 py-1 rounded-md bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",onClick:i,disabled:0===n.length,children:[r.jsx(W,{}),"返回上级"]}),r.jsx(j,{loading:t,onClick:s})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6 shadow-lg mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(q,{className:"text-purple-400"}),"路径导航"]}),r.jsx(ne,{items:[{title:r.jsx("span",{className:"text-slate-200 font-medium cursor-pointer hover:text-white",onClick:()=>o([]),children:"根目录"})},...n.map((e,t)=>({title:r.jsx("span",{className:"text-slate-300 cursor-pointer hover:text-white",onClick:()=>o(n.slice(0,t+1)),children:e})}))],className:"text-slate-300"})]}),r.jsx(v,{title:"当前目录"+(n.length>0?` (${n.join("/")})`:""),icon:r.jsx(q,{}),children:t?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(B,{size:"large"})}):e.length>0?r.jsx(pe,{dataSource:e,renderItem:e=>r.jsx(pe.Item,{className:"border-b border-slate-700/30 last:border-b-0 hover:bg-slate-700/20 rounded-lg p-4 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(H,{icon:e.isDir?r.jsx(q,{}):r.jsx(F,{}),className:""+(e.isDir?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-green-500/20 text-green-400 border border-green-500/30")}),r.jsx("span",{className:"text-slate-200 font-medium "+(e.isDir?"cursor-pointer hover:text-blue-400":""),onClick:()=>{e.isDir&&a(e.path)},children:e.name})]}),e.isFile&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm font-medium "+(!0===e.status?"text-emerald-400":!1===e.status?"text-red-400":"text-slate-400"),children:!0===e.status?"已在启用":!1===e.status?"已被禁用":"未知状态"}),r.jsx("button",{onClick:()=>l(e.path,!e.status),className:"px-3 py-1 text-xs rounded-md font-medium transition-colors "+(!0===e.status?"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/30"),children:!0===e.status?"禁用":"启用"})]})]})})}):r.jsx(S,{title:"当前目录为空",description:"该目录下没有任何文件或文件夹"})})]})}export{ue as default};
